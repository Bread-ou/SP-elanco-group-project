<!DOCTYPE html>
<html>
<head>
  <title>Image Labels</title>
  <style>
    .container {
        display: flex;
        flex-direction: row;
    }
    .image {
        flex: 1;
    }
    .labels {
        flex: 1;
        padding-left: 20px;
    }
    ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    li {
        margin-bottom: 10px;
    }
    .high-confidence {
        color: green;
        font-weight: bold;
    }
    .medium-confidence {
        color: orange;
        font-weight: bold;
    }
    .low-confidence {
        color: red;
        font-weight: bold;
    }
</style>
</head>
<body>
    <% for(let i=0; i<imageUrls.length; i++) { %>
      <div class="container">
        <div class="image">
          <h2>Image :</h2>
          <img src="<%= imageUrls[i] %>">
        </div>
        <% const labelsByImage = labelsList[i]; %>
        <% if (labelsByImage.newLabels.length > 0) { %>
          <div class="labels">
            <h2>Filtered Labels:</h2>
            <ul class="labels-list">
              <% for(let j=0; j<labelsByImage.newLabels.length; j++) { %>
                <li>
                  <%= labelsByImage.newLabels[j].description %>
                  <% if (labelsByImage.newLabels[j].score >= 0.8) { %>
                    <span class="confidence high-confidence">(High confidence)</span>
                  <% } else if (labelsByImage.newLabels[j].score >= 0.6) { %>
                    <span class="confidence medium-confidence">(Medium confidence)</span>
                  <% } else { %>
                    <span class="confidence low-confidence">(Low confidence)</span>
                  <% } %>
                </li>
              <% } %>
            </ul>
          </div>
        <% } else { %>
          <div class="labels">
            <h2>No animals detected in this image.</h2>
          </div>
        <% } %>
        <div class="labels">
          <h2>Unfiltered Labels:</h2>
          <ul class="labels-list">
            <% for(let j=0; j<labelsByImage.sortedLabels.length; j++) { %>
                <li>
                  <%= labelsByImage.sortedLabels[j].description %>
                  <% if (labelsByImage.sortedLabels[j].score >= 0.8) { %>
                    <span class="confidence high-confidence">(High confidence)</span>
                  <% } else if (labelsByImage.sortedLabels[j].score >= 0.6) { %>
                    <span class="confidence medium-confidence">(Medium confidence)</span>
                  <% } else { %>
                    <span class="confidence low-confidence">(Low confidence)</span>
                  <% } %>
                </li>
              <% }} %>

          </ul>
        </div>
    </body>
</html>
